{
  "algorithm": {
    "parameters": [],
    "statements": [
      {
        "command": "ReadConfigParameter",
        "configParameterName": "RealRedis",
        "variableName": "realRedis"
      },
      {
        "children": [
          {
            "command": "Execute",
            "expression": "InitRedis()"
          },
          {
            "command": "Execute",
            "expression": "RedisHset(RedisDefault, \"userhash_1\", \"name\", \"Andrew\")"
          },
          {
            "command": "Execute",
            "expression": "RedisHset(RedisDefault, \"userhash_1\", \"username\", \"andrewm\")"
          },
          {
            "command": "Execute",
            "expression": "RedisHmset(RedisDefault, \"userhash_2\", { name: \"Cassie\", username: \"cassien\" })"
          },
          {
            "command": "Assert",
            "expression1": "RedisExpire(RedisDefault, \"userhash_2\", 300)",
            "expression2": "1",
            "operator": "=="
          },
          {
            "command": "Assert",
            "expression1": "RedisTtl(RedisDefault, \"userhash_2\")",
            "expression2": "1",
            "operator": ">="
          },
          {
            "command": "Assert",
            "expression1": "RedisHget(RedisDefault, \"userhash_1\", \"name\")",
            "expression2": "\"Andrew\"",
            "operator": "=="
          },
          {
            "command": "Assert",
            "expression1": "Includes(RedisHmget(RedisDefault, \"userhash_1\", [ \"name\", \"username\" ]), \"andrewm\")",
            "expression2": "true",
            "operator": "=="
          },
          {
            "command": "Assert",
            "expression1": "RedisHlen(RedisDefault, \"userhash_1\")",
            "expression2": "2",
            "operator": "=="
          },
          {
            "command": "Assert",
            "expression1": "Includes(RedisHkeys(RedisDefault, \"userhash_1\"), \"username\")",
            "expression2": "true",
            "operator": "=="
          },
          {
            "command": "Assert",
            "expression1": "Includes(RedisHvals(RedisDefault, \"userhash_2\"), \"Cassie\")",
            "expression2": "true",
            "operator": "=="
          },
          {
            "command": "Assert",
            "expression1": "RedisHdel(RedisDefault, \"userhash_2\", \"username\")",
            "expression2": "1",
            "operator": "=="
          },
          {
            "command": "Assert",
            "expression1": "RedisHexists(RedisDefault, \"userhash_2\", \"username\")",
            "expression2": "0",
            "operator": "=="
          },
          {
            "command": "Set",
            "expression": "RedisHgetall(RedisDefault, \"userhash_1\")",
            "variableName": "userObj"
          },
          {
            "command": "Assert",
            "expression1": "^userObj.name",
            "expression2": "\"Andrew\"",
            "operator": "=="
          },
          {
            "command": "Execute",
            "expression": "EndRedis()"
          }
        ],
        "command": "If",
        "expression": "^realRedis"
      }
    ],
    "typeReturn": "any",
    "variables": [
      {
        "name": "realRedis",
        "type": "boolean"
      },
      {
        "name": "userObj",
        "type": "any"
      }
    ]
  }
}